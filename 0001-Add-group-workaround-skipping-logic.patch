From 5274c8d9992351f0d0326eac146cc4143a8a5ac8 Mon Sep 17 00:00:00 2001
From: Scott K Logan <logans@cottsay.net>
Date: Wed, 3 Apr 2024 15:42:51 -0500
Subject: [PATCH] Add group workaround skipping logic

---
 package.xml | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

diff --git a/package.xml b/package.xml
index 49efa94f6976..b040e02a164c 100644
--- a/package.xml
+++ b/package.xml
@@ -21,12 +21,8 @@
   <depend>rcpputils</depend>
   <build_depend>rosidl_runtime_c</build_depend>
   <build_depend>rosidl_typesupport_c</build_depend>
-  <!--
-  Bloom does not support group_depend so entries below duplicate the group rosidl_typesupport_cpp_packages.
-  This ensures that binary packages have support for all of these rmw impl. enabled.
-  -->
-  <build_depend>rosidl_typesupport_introspection_cpp</build_depend>
-  <!-- end of group rosidl_typesupport_cpp_packages for bloom -->
+
+  <build_depend condition="$DISABLE_GROUP_WORKAROUND != 1">rosidl_typesupport_introspection_cpp</build_depend>
 
   <buildtool_export_depend>ament_cmake_core</buildtool_export_depend>
   <build_export_depend>rosidl_typesupport_c</build_export_depend>
-- 
2.44.0

